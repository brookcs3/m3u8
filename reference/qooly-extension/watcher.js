!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=57)}({0:function(t,e,n){var i=n(49);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,i(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},1:function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},18:function(t,e,n){"use strict";function i(){for(var t=Math.random().toString(36).substr(2,9)+Date.now().toString(36).substr(3),e=0;e<t.length;e++)Math.random()>.5&&(t=t.substr(0,e)+t[e].toUpperCase()+t.substr(e+1));return t}n.d(e,"a",(function(){return i})),n(5)},3:function(t,e,n){var i=n(49);t.exports=function(t,e,n){return(e=i(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},t.exports.__esModule=!0,t.exports.default=t.exports},49:function(t,e,n){var i=n(5).default,o=n(58);t.exports=function(t){var e=o(t,"string");return"symbol"===i(e)?e:String(e)},t.exports.__esModule=!0,t.exports.default=t.exports},5:function(t,e){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},57:function(t,e,n){"use strict";n.r(e),n.d(e,"setInterceptor",(function(){return w}));var i,o,r,l,u=n(5),a=n.n(u),s=n(18),c=n(1),d=n.n(c),f=n(0),v=n.n(f),h=n(3),p=n.n(h),m=v()((function t(){d()(this,t),p()(this,"origins",["www.instagram.com"])}),[{key:"onLoad",value:function(t,e){if(t.match("video_versions")){var n=JSON.parse(t.replaceAll("for (;;);","")),i=this.searchKey(n,"video_versions");null!=i&&i.length&&window.dispatchEvent(new CustomEvent("videos-found",{detail:i}))}}},{key:"searchKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var i in t)if(t.hasOwnProperty(i)){if(i===e&&t[i]){var o;if(null!==(o=t.caption)&&void 0!==o&&o.text&&t[i].length)for(var r=0;r<t[i].length;r++){var l;t[i][r].title=null===(l=t.caption)||void 0===l?void 0:l.text}n.push(t[i])}"object"===a()(t[i])&&this.searchKey(t[i],e,n)}return n}}]),y=v()((function t(){d()(this,t),p()(this,"origins",[/vimeo\.com/])}),[{key:"onLoad",value:function(t,e){if(e.match("/config"))try{var n,i=JSON.parse(t),o=document.title;document.querySelector("#main main h1")&&(o=document.querySelector("#main main h1").innerText);var r=i.request.files.progressive,l=[];if(r)for(var u=0;u<r.length;u++)l.push({fileName:o,url:r[u].url,quality:r[u].width});if(!l.length&&null!==(n=i.request.files)&&void 0!==n&&null!==(n=n.hls)&&void 0!==n&&n.cdns)for(var a in i.request.files.hls.cdns){var s,c=i.request.files.hls.cdns[a].url.replace(/\/subtitles\/.*\//,"/");c.match(/^https?:\/\/cme-media\.vimeocdn\.com/)||l.push({fileName:o,url:c,playlist:!0,quality:null!=i&&null!==(s=i.video)&&void 0!==s&&s.height?i.video.height:"N/A"})}null!=l&&l.length&&window.dispatchEvent(new CustomEvent("videos-found",{detail:l}))}catch(t){}}}]),g=v()((function t(){d()(this,t),p()(this,"origins",["hls.enjoy24cdn.com","928hd.tv","showhd9.com"])}),[{key:"onLoad",value:function(t,e){if(t.match("#EXTM3U")){var n,i=document.title||(null===(n=document.querySelector("h1.entry-title"))||void 0===n?void 0:n.innerText)||"",o=[];t.match(/#EXT-X-STREAM-INF:/)&&t.split(/#EXT-X-STREAM-INF:/).forEach((function(t){var e={url:"",quality:"",playlist:!0,fileName:i,stream:!0,id:Object(s.a)(),isAdditional:!1},n=t.split(/\s|,/);n&&n.forEach((function(t){try{t.match("RESOLUTION=")&&(e.quality=t.split("=")[1],e.quality&&(e.quality=e.quality.split("x")[1]+"p"))}catch(t){}e.url=t})),e.url&&o.push({fileName:e.fileName,url:e.url,playlist:!0,quality:e.quality||"N/A"})})),null!=o&&o.length&&window.dispatchEvent(new CustomEvent("videos-found",{detail:o}))}}}]),x=v()((function t(){d()(this,t),p()(this,"origins",[/x\.com/,/twitter\.com/])}),[{key:"onLoad",value:function(t,e){if(t.match("video_info"))try{var n,i=JSON.parse(t),o=document.title,r=this.searchKey(i,"video_info"),l=[];null!=r&&r.length&&r.forEach((function(t){var e;null!=t&&null!==(e=t.variants)&&void 0!==e&&e.length&&t.variants.forEach((function(t){var e="N/A";try{t.url.match(/avc1\/\d*x\d*/)&&(e=t.url.match(/avc1\/\d*x\d*/)[0].replace(/avc1\//gi,"").split("x")[0])}catch(t){}"application/x-mpegURL"!==(null==t?void 0:t.content_type)&&l.push({url:t.url,quality:e,title:o})}))})),null!=l&&l.length&&window.dispatchEvent(new CustomEvent("videos-found",{detail:l})),"TimelineAddEntries"===(null==i||null===(n=i.data)||void 0===n||null===(n=n.threaded_conversation_with_injections_v2)||void 0===n||null===(n=n.instructions)||void 0===n||null===(n=n[0])||void 0===n?void 0:n.type)&&i.data.threaded_conversation_with_injections_v2.instructions[0].entries.forEach((function(t){var e,n;null!=t&&null!==(e=t.content)&&void 0!==e&&null!==(e=e.itemContent)&&void 0!==e&&null!==(e=e.tweet_results)&&void 0!==e&&null!==(e=e.result)&&void 0!==e&&null!==(e=e.legacy)&&void 0!==e&&null!==(e=e.entities)&&void 0!==e&&e.media&&(o=document.title,null!=t&&null!==(n=t.content)&&void 0!==n&&null!==(n=n.itemContent)&&void 0!==n&&null!==(n=n.tweet_results)&&void 0!==n&&null!==(n=n.result)&&void 0!==n&&null!==(n=n.legacy)&&void 0!==n&&n.full_text&&(o=t.content.itemContent.tweet_results.result.legacy.full_text),t.content.itemContent.tweet_results.result.legacy.entities.media.forEach((function(t){var e;if(null!=t&&null!==(e=t.video_info)&&void 0!==e&&null!==(e=e.variants)&&void 0!==e&&e.length){var n=[];t.video_info.variants.forEach((function(t){if(null!=t&&t.url){var e="N/A";try{t.url.match(/avc1\/\d*x\d*/)&&(e=t.url.match(/avc1\/\d*x\d*/)[0].replace(/avc1\//gi,"").split("x")[0])}catch(t){}"application/x-mpegURL"!==(null==t?void 0:t.content_type)&&n.push({url:t.url,quality:e,title:o})}})),null!=n&&n.length&&window.dispatchEvent(new CustomEvent("videos-found",{detail:n}))}})))}))}catch(t){}}},{key:"searchKey",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var i in t)if(t.hasOwnProperty(i)){if(i===e&&t[i]){var o;if(null!==(o=t.caption)&&void 0!==o&&o.text&&t[i].length)for(var r=0;r<t[i].length;r++){var l;t[i][r].title=null===(l=t.caption)||void 0===l?void 0:l.text}n.push(t[i])}"object"===a()(t[i])&&this.searchKey(t[i],e,n)}return n}}]),_=[new m,new x,new y,new g];function w(t){window.addEventListener("videos-found",(function(t){var e;if(null!==(e=t.detail)&&void 0!==e&&e.length)for(var n=0;n<t.detail.length;n++){var i,o=t.detail[n];if(null!==(i=o)&&void 0!==i&&i.length){var r={url:(o=o[0]).url,title:o.title||document.title,quality:o.quality?o.quality:"N/A"};b({vid:o.url,variants:[r],title:o.title||document.title,playlist:o.playlist})}else{var l={url:o.url,title:o.title||document.title,quality:o.quality?o.quality:"N/A"};b({vid:o.url,variants:[l],title:o.title||document.title,playlist:o.playlist})}}}));var e=document.createElement("script");e.src=chrome.runtime.getURL("watcher.js"),e.onload=function(){this.remove()},(document.head||document.documentElement).appendChild(e)}function b(t){return new Promise((function(e){var n=[];t.variants.forEach((function(e){n.push({url:e.url,quality:e.quality,fileName:t.title,id:e.id?e.id:Object(s.a)(),playlist:t.playlist||e.playlist})})),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"add-video-links";return new Promise((function(n){chrome.runtime.sendMessage({message:e,videoLinks:t},(function(){n()}))}))}(n).then((function(){e()}))}))}XMLHttpRequest,i=XMLHttpRequest.prototype,o=i.open,r=i.send,l=i.setRequestHeader,i.open=function(t,e){return this._method=t,this._url=e,this._requestHeaders={},this._startTime=(new Date).toISOString(),o.apply(this,arguments)},i.setRequestHeader=function(t,e){return this._requestHeaders[t]=e,l.apply(this,arguments)},i.send=function(t){return this.addEventListener("load",(function(){if((new Date).toISOString(),this._url?this._url.toLowerCase():this._url){if(t)if("string"==typeof t)try{this._requestHeaders=t}catch(t){}else a()(t);this.getAllResponseHeaders();var e="";try{e=this.responseText}catch(t){e=""}try{for(var n=0;n<_.length;n++)for(var i=0;i<_[n].origins.length;i++){var o=this._url;if(o.startsWith("http")||(o=document.location.origin+o),_[n].origins[i]instanceof RegExp&&document.location.hostname.match(_[n].origins[i])||document.location.hostname===_[n].origins[i]){_[n].onLoad(e,o);break}}}catch(t){}}})),r.apply(this,arguments)}},58:function(t,e,n){var i=n(5).default;t.exports=function(t,e){if("object"!==i(t)||null===t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!==i(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports}});